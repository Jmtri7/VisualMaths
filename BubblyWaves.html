<!DOCTYPE html>
<html>
<head>
<title></title>
</head>
<body>
<canvas id="myCanvas" style="border: 1px solid #000000;" width = "500px" height = "500px"></canvas>
<script type="text/javascript">

var c = document.getElementById("myCanvas");
var ctx = c.getContext("2d");

var res = .3;

ctx.scale(1, -1);
ctx.translate(c.width / 2, -c.height / 2);

ctx.beginPath();
ctx.moveTo(-c.width / 2, 0);
ctx.lineTo(c.width / 2, 0);
ctx.stroke();

ctx.beginPath();
ctx.moveTo(0, -c.height / 2);
ctx.lineTo(0, c.height / 2);
ctx.stroke();



function graph(x, y) {
	return (200 * Math.sin(x / 10 + y) / (1 + .1 * Math.pow(x / 20, 2)));
}

var t = 0;
	
setInterval(function(){

ctx.clearRect(-c.width / 2, -c.height / 2, c.width, c.height);

for(i = -c.width / 2; i < c.width; i+= res) {

/*
ctx.beginPath();
ctx.moveTo(i, graph(i, t));
ctx.lineTo(i - res, graph(i - res, t));
ctx.stroke();
*/



ctx.beginPath();
ctx.arc(i, graph(i, t), 7 * (Math.sin(i) + 2), 0, 2*Math.PI);
ctx.stroke();
ctx.fillStyle = "rgb(" + Math.round(i / 250 * 127 + 127)  + "," + Math.round(i / 250 * 127 + 127) + "," + Math.round(i / 250 * 127 + 127) + ")";
ctx.fill();


}

t+= .005;

}, 0.06);

</script>
</body>
</html>